 aquí tengo cargado un puntito donde vamos a para esto para probar el criterio de los árboles vamos a hablar su vamos a es una librería que se llama plan y en realidad de salivar y esta semana más pero tiene un rapper para python que se llama paisa para instalarlo podéis entrar para el plan tiene que usar contra no usen peep toes de pista porque no hay en la versión antigua que no funciona sin contar con de sureste con villa y si va a funcionar forma de ver aquí tengo un conjunto de vectores de animación 128 y es con lo que vamos a hacer las pruebas y tiene hay 5.000 vectores de consulta sobre 100.000 vectores de dimensión 128 es decir tengo que hacer cinco mil búsquedas del vecino más cercano en simple mentores para partir vamos a hacer un algoritmo de ligar scan de ahí lo estaba ejecutando como socia la librería by frank la librería voy a crear una estructura objetos donde uno elevar construyendo un índice lineal y después para el índice que no construyó uno dice darme en los nn los vecinos más cercanos y aquí buscar el índice y el índice definido por el último index y en este caso va a usar la línea y uno le pasa a nacer con las consultas ya va a resolver las cinco mil consultas sobre el inicio anterior que contribuyen tomó los silvestres y le dice dame un vecino más cercano y esto de los cortes en cuanto paralelismo hacer como éstos como las búsquedas del vecino más cercano aquí son 5000 los resultados de una no influyen en la otra es decir acerca de la consulta no dependen de resultados y una forma fácil de hecho social aunque se embarazan para qué uno podrás volver las cinco mil para el entonces si uno sea más corta de hecho es bastante bueno esto va va aumentando su velocidad y el tiempo total disminuye seguir aquí uno pone dos cosas el tiempo total pero aquí vamos a hacerlo con un solo color porque va a salir más estable porque si no si no está usando todos los cortes computador y cualquier proceso computador empieza a afectar el tiempo de gusto en cambio por 11 sólo afecta menos nos van a servir valores más más estable entonces el aquí pongo que con el tiempo como calculamos que podemos quedar vamos a tomar el tiempo cero y el tiempo el tiempo antes de buscar el tiempo luego de buscar a restaurar los seguros esto nos va a dar resultados tanto de líderes can y en el que iba a usar como valor de referencia- inter para todos los siguientes alvarín es el aquí esto retorna una lista con los hay disco el número de lo que es y lo más cercanos como son hay 100.000 vectores aquí va a retornar una raíz de dimensión 5000 en la respuesta de cada uno de los vectores con un número entre 0 y 99 1909 tiene el vecino más cercano de aquí a la distancia a la que está la actual de ccoo la búsqueda de más de dos minutos y las vamos a evaluar distintos algoritmos y vamos a esto que acaba de calcular eso que si lo más cercano y esa distancia va a ser nuestro encontró nuestra respuesta correcta y aquí vamos a calcular vamos a pasar los resultados de la búsqueda y los va a comparar con los de liniers que calculamos recién y cuenta que tanto se parece y de hecho aquí estoy aquí para probar vamos a hablar el mismo libresca y a la función para la búsqueda de lo que hace es que comprueba es decir cuantos iguales tienen con el resultado del dimensión y si que no es el mismo en el caso de que haya varios elementos en la misma distancia calcular sí que está a la misma distancia dice que si esto no suman las incorrectas y x la precisión cuántas correctas del total y la eficiencia que vamos a decir cuánto tiempo que más rápido fue comparado con el con el ska línea que se demoró [Música] ahora vamos a construir un caletri el contrario que beatriz mediante la misma función sólo una entender algo 7 detrick y le podemos decir podemos cerrar la máscara gris bueno aquí vamos a probar uno solamente y esto va a construir un árbol que se mueve un segundo y ahora con este árbol vamos a hacer una búsqueda del vecino más cercano aquí en este algoritmo tiene el stock que permite acelerar la próxima si queremos tener el director del parc ausiàs march ex el del número de hojas visitas si les decimos -1 dejen de ser recorra el árbol de las hojas que sea necesario para encontrar lo que si no más cerca para garantizar que es el vecino más cercano y con chase -1 entonces todo a retornar en lo que debiera de retornar los mismos vecinos más cercanos que en línea les cae bien y luego lo que vamos a hacer es que el vamos a calcular el mismo la misma búsqueda pero variando el cjex baja en el mínimo 1 1 2 2 3 4 5 de hecho aquí quiere decir que el rango de cjex y no es 1234 cualquier son muy pocos de algún árbol como éste están indexando 100 mil vectores en realidad no hay diferencia 10 en 1234 hay que ir haciendo algo encima 110 100 mil 10.000 cjex o números intermedios 110 50 100 500 mil para que para que tenga sentido si no van a ser todos los números iguales entonces aquí el término la búsqueda y se demoró nueve tira de segundos fue más rápido y obtuvo cien por cien es decir son los mismos vectores desde el signo más cercano qué pasa si decimos cjex uno terminó y se demoró 0.3 segundos y encontró un 19% de m3 en eso entonces eso estaba esto nos dice un poco más rápido y consiste en visitar una única hoja esto es bajar por el árbol encontrar el primer candidato el candidato que sale de la misma forma continua de trabajo y el candidato de ahí natural entonces aquí vemos que es para estos vectores para este van a hacer casi un 20 por ciento de las veces el destino más cercano está en la misma hoja técnica de tree que el vector si queremos mejorar un poco esto encima en el tiempo está en 0 30 segundos de casi 2 minutos a menos de un segundo que siempre sea más rápido y que tal si tengo ahora vamos a probar con 10 text un poco más de tu tiempo se mantiene y ahora tenemos 350 respuestas correctas que no deja de ser de dos minutos bajamos a un tramo sientes seguimos en el rango de menos de un minuto y tenemos ya 80 por ciento de respuestas correctas y con mil converge a que deberán abonarse 23 segundos y en tres segundos tenemos el 96% de respuestas correctas eso es el entonces que hay un balance muy bueno pero si queremos garantizar el 100% respuestas correctas tenemos que gastar 99 segundos pero si estamos dispuestos a perder un poco y pudo perder este 3% de este 4 por ciento de error puedo acelerar de 100 segundos 90 segundos a 3 segundos ese evento en tres segundos va a aumentar a tres segundos [Música] para aumentar a seis hombres [Música] y lo que teníamos 96 98 y aquí hay y entonces estamos demorando un 5 por ciento del tiempo de linares cal y estamos obteniendo 500 eventos es que hay una relación muy muy buena en estas relaciones o si depende de otra clase y bueno lo vamos y también depende de el número de árboles interesantes y ahora vamos a probar con tres árboles que construir los tres árboles y bueno son demoran un poco más cuatro segundos y ahora ahora podemos hacer un texto y nos demoramos medio segundos [Música] y ahora tenemos 88 con menos de un segundo mejor aún más directo es uno puede lograr una una mejor decisión a los mismos preguntas de hecho el número de árboles usualmente un número pequeño 3 1 y 10 muchos árboles si quieres todo vaya más lento entonces después empezó el verso más lento pero aquí se ve entonces podemos lograr 92% [Música] y es que esto el índice está construido y que es muy bueno una buena propiedad el que uno puede ajustar la velocidad que no quiere en el tipo de consulta el árbol no se reconstruye nació en el árbol puede ser muy preciso o muy rápido muy lento muy rápido a gusto de inquietud personal una buena propia unos segundos [Música] en el siguiente vídeo vamos a ver otro árbol y vamos a empezar a ver más análisis sabes cómo se comportan estos chips y esta relación de efectividad versus licencia