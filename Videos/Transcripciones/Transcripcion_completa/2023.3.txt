2023-03-27 Consultas semana 03
https://www.youtube.com/watch?v=MU63ZrWx8kI
 una pequeña así como explicación de lo del contenido de de esta semana porque esta es la semana tres bueno la semana dos hablamos sobre descriptores de escritores globales de la imagen y les dejé ahí algún pequeño código fuente para que revisaran que esto les va a servir para la tarea uno de hecho porque la tarea uno la acabo de publicar y y la tarea uno consiste en [Música] pero en la tarea uno van a tener que buscar imágenes parecidas entonces dado un va a haber una carpeta con imágenes originales y lo va a llamar r según junto y vamos a vamos a tener otra carpeta con imágenes de consulta que vamos a llamar Q que son imágenes como con pequeñas transformaciones o ajustes que ya sea que cambia un poco el color un texto o como ahí que se refleja Bueno aquí aquí está la las transformaciones que se puede hacer insertar texto ajustar los colores levemente ya y lo que tienen que hacer es hacer un programa que para cada imagen del conjunto q diga Cuál es la imagen r más parecida y Y cómo esta es como este conjunto fue creado está la la respuesta correcta digamos porque como que lo que hice fue tomar una imagen del r modificando y generarla de cuál es el original de aquí eso no sucede en el mundo en un conjunto real que no tiene imágenes y cada que descubrir Cuál es pero este caso la pequeña modificación y lo que tiene que hacer es hacer un programa y ese programa se divide en dos un conjunto que se llama indexar un programa examen y qué es lo que hace es que toma las imágenes de del conjunto r que son como las originales y tiene que leerlas y generar descriptores Y esa esos descriptores que han los guardan en una carpeta que va a ser la carpeta de datos r ustedes lo guardan como quieran y luego va a haber otro programa que se llama el programa Buscar que está acá y que toma las imágenes de q la imagen de acá y las compara contra r ya y dice Y tiene que generar un archivo de salida y ese archivo de salida tiene que decir nombre de imagen de consulta nombre de la imagen r y A qué distancia está se supone que si la imagen es parecida están a una distancia cercana a cero y las que no se aparecen están a distancia más lejanas Y entonces solo que tienen que hacer lograr asociar acá imagen de consulta Cuál es su más parecida de r que se supone que esa es como la la original ya Y eso esa es la tarea y y les subí el enunciado y y me falta eso sí el dato hacer porque o sea además lo que estoy trabajando es hay una voy a hacer un programita de evaluar como para que puedan evaluar la tarea como está la respuesta correcta lo que va a hacer este programita evaluar va a correr la tarea va a ver la salida que genera y Y va a ver cuántas buenas y malas tiene le va a decir la noche así como automático ya eso eso me falta un poquito de trabajarlo lo quería publicar ahora ahí ya está viendo un detallitos ya Entonces espero a ver si en el día hoy día la noche puedo terminarlo ya y con los conjuntos de prueba esa va a ser la tarea tienen dos semanas Pues hay dos semanas porque a la semana siguiente Viene un mini control el siguiente entonces para que no no sea el mismo día la entrega todo caso la tarea después la van a poder entregar de nuevo de esto como para poner fecha como para que vayan avanzando pero igual después pueden entregarlo otra vez y como como es la evaluación laboratorio para esta tarea no pero ya eres como un desafío a veces que pueden descubrir el original les va a servir como inspiración les va a servir este este enunciado de de acá ya este código Fuente Los descriptores globales en gris de este les va a servir porque esto lo que hace es que vean este código para para hacerte imágenes de prueba vas generando imágenes Esa es la imagen va generando como descriptores ahí se como que se visualiza entre comillas el descriptor pero aquí aquí que han guardado los escritores ya para este descriptor que es bien simple solo achicar la imagen ya por ejemplo este que son las chicas la imagen probablemente no va a funcionar bien con alguno Que modifica mucho que este que refleja y demás que está reflejada claro A veces lo reflejado igual se parece Así mismo como en este caso tenemos que reflejada igual a media parecida a sí mismo Bueno ahí tienen que ir probando y luego Aquí está el código que compara Calcula distancia entre escritores hay una función que se llama directa le pasa una matriz escritura y Calcula todos contra todos después vamos a ver cómo va a ser esto en forma más eficiente ya y aquí Calcula los los más cercanos y esencialmente la tarea tiene que mirarlo un poco ajustar un poco este código para que le funcione con la tarea de usted ya y y bueno y hay unos casos un poco más difíciles que tienen que trabajar con otros descriptores para lograr el cierre de hecho pueden como dice el enunciado pueden sacar un ocho tú puedes sacar uno hasta aquí va a haber un existe la posibilidad de un punto extra de bonos es que obtienen un 100% de correctos eso quiere probar más cosas y todo si quieren ir más allá pueden pueden Probar con eso un desafío que es como entretenido Y eso les va a permitir aplicar lo que el estudio ahí de de lo que estamos viendo ahora y pues alguna preguntar después lo voy a hacer en python Obviamente si quieres la pueden hacer más más ese que sabe Dice que le interesa hay que demorar 15 minutos en procesar en conjuntos de pruebas en general debería demorarse menos de un minuto algunos segundos quizá [Música] Esa es la tarea bueno traten de hacerla y y ahí me van preguntando en el código fuente les di en el [Música] es lo que subí junto con el enunciado hay un como un pequeño template del código fuente ya para que lo puedan ver y ahora y lo que quería comentar simplemente es la semana tres es que lo que vamos a ver todo lo que lo que tienen que ver ahora es ver los colores esencialmente hay unos videos que hablan sobre el los colores la parte como bien introductores ya y esencialmente es ver Cómo calcular descriptores de color y pasa porque Bueno uno puede hacer lo mismo que los escritores de gris pero ahora de tres canales pero aquí siempre hay una discusión con con respecto al espacio de color y como comparar colores ya ahí Bueno ahí se va a ver en los videos como se pueden comparar color en las distintas transformaciones pasos de color y cosas así ya todo esto lleva a quiero comentarles sobre esto sobre este espacio de color que se llama el sí Este es un lado cielo Ya que son para comparar colores y ahí es donde está hay un pequeño ahora para la semana tres un pequeño código fuente y que lo que hace es que genera esta imagen que se las quería explicar acá de esto de acá es un es un color Jet un color Jet es esto de que esto es una matriz de distancias es un color el azul es el más cero digamos y el rojo es el uno y ahí hay entonces aquí se pueden ver como los máximos y los mínimos y esto una matriz de distancia entre el color que está en la primera fila con el color que está aquí en la última columna ya entonces ahí se ve que entre el Negro entre el blanco y el negro y es una distancia alta ya la distancia máxima esto aquí está calculando distancias en el en el en el rgb ya que es como la distancia que se ve que se ve que aquí en este cubo de acá entonces claro aquí la distancia entre el cero y el blanco como la distancia máxima y de hecho también aquí entre el verde y el magenta es como distancia máxima y lo otro sería entre el cian y el rojo Entonces si vamos a ver aquí entre el verde y el magenta [Música] y el rojo y aquí está el verde y el magente entonces De hecho están ahí el amarillo y el azul entre el azul y el amarillo entonces ahí se ven que ahí están las como las diagonales del del cubo se ve como la distancia máxima y luego ahí se ve como este la distancia entre los distintos colores bueno acá hay algunos colores Estos son 27 colores sirve ahí es como que dividía entre el espacio esto se ve aquí en el norte de la distancia y esta es la distancia máxima y lo que se ve luego es que ahí está la transformación al espacio Sí sí el app Está hacia el cielo para que por tomar uno poner el cielo y aquí está la matita distancias pero no energía vez sino que convirtiendo cada color el espacio ciela y luego distancia y luego calculando ahí ya Y ahí aparece esta esta matriz de color y ahí es donde se ve la distancia máxima y mínima y claro y aquí se ve que la distancia máxima como aquí se ve entre este el br entonces este es el azul y el verde este la distancia máxima en este espacio la distancia máxima y las otras entonces vean ahí como es curioso empezar a ver cómo se distribuyen los las distancias en este otro espacio de color que se llama que un espacio de color perceptual y no es exactamente esto de acá pero es bien parecido a este espacio de se supone que cuando lo representa color y compara colores lo ideal es compararlo en este espacio ya con distancia en este espacio y no con distancias en el en el rgb de ejemplo Bueno eso espero que puedan ver ahí este este código yo creo que está como si no le explico esta matriz O sea no no tengo como el video explicando Espero que me parece que les sirva ahí como para para y después Aquí tienen que ver y ahí va a haber un ejercicio que está descrito acá es el ejercicio también que tiene que ser En el mini costal como más o menos parecido y es como calcular histogramas ahora los histogramas de color no es un histograma de largo de largo fijo que el más simple que son histogramas de largo variable y que cada cada bien representa colores distintos entonces ahí la función distancia un poco distinta se llama la artistas y que ahí espero que puedan saber cómo calcularla ya y aquí la idea es que como vea primero se calcula una una matriz de costos que es como Cómo se comparan los colores entre sí Y aquí eh se podría usar una distancia en el espacio en el mini control le pido una distancia del espacio rgb con distancia l1 que es como lo más fácil que eso se puede hacer a mano le da el código rgb uno puede distancia l1 sumar las diferencias entonces bien directo a calcularlo y luego hay que hacer esta optimización de ver cuál es la cuál es la distribución que obtiene menor costo total Y eso Por supuesto que al menos mini controla Espero que hagan el óptimo porque claro No está difícil hacerlo a mano aun cuando parece que se puede hacer a mano es un caso particular pero en general lo que me interesa es que vean una matriz válida que sea una correcta distribución Y eso significa que como esta matriz de acá si batería Cero veintitrés en un bien eso se distribuye esos cero veintitrés se distribuyen de esta forma Entonces esto tiene que sumar y este cero sesenta y tres del de origen se distribuye a los bien destinos de esta otra forma esto se tienen que sumar el origen ya y y los destinos también entonces para el bien destino tiene que sumar es como las Dos suman uno entonces ahí se tiene que cumplir las restricciones de la de que todo el origen tiene que llegar a un destino y todo destino tiene de un origen sale más explicado Espero que puedan hacer que quizás aquí no se pierda matriz óptima sino que al menos una que cumpla con la restricción me preguntan porque esto es la entrega la otra semana o sea le haría preguntas pero es como imposible hacerle preguntas cuando no hemos tenido tiempo para ver las clases esta semana entonces tienen esta semana para ver el para ver eso es un tema que quería comentarle profe O sea entiendo que votamos para esto pero aunque el horario de consultas el lunes es un poco inservible pongo este caso ejemplo se suponga que yo tengo una pregunta para la parte tres de la del Mini control el cual se entrega el lunes siguiente cierto yo ya no le puedo hacer una pregunta sobre esa parte porque no he tenido tiempo para ver la materia porque fue liberada esta mañana mientras dormía Y si quiero hacer una pregunta en escenario tendría que esperar para el lunes y después hacerle la idea y hacer la tarea súper rápido el mismo día entiendo que se puede escribir por Telegram pero esta semana podríamos hacer alguno esta semana alguna extra jueves o viernes porque para que sea un poquito más útiles como yo creo que es como el que les permite a todos estar presente se tiene que discutir eso claro como para que tengas posibilidad de los videos Claro porque puedo liberar todos los videos así de tres semanas pero yo creo que van a quedar medio difícil de eso yo creo que No creo que hay que ir logrando o sea el otro tenía como una duda puntual que me acabo de acordar que tenía antes sobre la parte 2 de no O sea el mini control cuando dos filtros de la última parte de los chiquitos cuando se empatan ahí es que no hay borde cierto de nuevo Yo creo que pasa esto de que tiene que tiene que esto es parte del voy a mostrar las [Música] yo creo estar comentando sobre el donde hay donde uno va testeando distintos distintos de estos de estos bordes para saber cómo qué orientaciones esto es parecido al otro que uno ve el ángulo de la magnitud el ángulo Pero esto es como más directo porque uno va testeando y se ve que esto tiene como ciertos patrones entonces aquí hay que ver cualitana si dice que está empatando porque no no me imagino también No importa probablemente o sea es una zona plana Y entonces por eso es que si la respuesta supera por eso que dice si la respuesta supera cierto umbral que es como es como el símil de uno calcula el ángulo del gradiente cuando supera la magnitud evidentemente esto es como el símil entonces aquí cuando este número supere cierto valor ahí recién uno considera su Quién ganó si que el que ganó supera por muy gana por muy poquito Entonces eso no es borde es como supongamos que cada quien aquí esto dice veintiuno pero supongamos que esto dice en un país rápido supongamos que esto dice dice no sé por 20 o 20 21 21 Esos son los cuatro los cuatro valores de píxeles ya el digamos Acá hay más pero justo cuando pasa Ahí queda esto eso es ese número va a ganar este veinte veintiuno veintiuno cuando lo probemos con los con Los cinco filtros va a ganar el tipo dos ya porque es como que el que se orienta en esta forma ya y va a ganar tipo dos pero va a ganar pero su número va a ser muy chiquitito porque hay un Pixel de diferencia Entonces es un borde Sí pero un borde súper cruzando Entonces eso en realidad es plano y no importa y cómo se considera esto porque eso nos supera cierto este número va a dar cuánto va a dar como dos de de diferencia va a dar dos o menos dos menos dos uno ya entonces el umbral debiera ser más que como 20 o 50 una cosa así claro tiene que superarse lo mismo que el otro la magnitud del adentro Espera que la magnitud del gradiente sea un número y los códigos como 50 algo así porque los números se van a entre cero y dos cincuenta y cinco pero igual me surge como duda existencial tipo Qué sucede si puede ser a suceder que vayan a empatar como dos como Por así decirlo bordes fuertes Por así decirlo o está demostrable que no pueden empatar para valores con estos números tendría que ser con la ecuación Qué números cumplen que sea esto con estos operadores den el mismo valor los mismos números operados con multiplicados por estos y sumados salvo si lo valore empatan en valor absoluto qué se hace ahí para pero sí Si en valor absoluto para dos tipos de de esos cinco bits para no sé el tres cuatro me dan iguales en valor absoluto como que le sumo una a cada uno o tomo el primero Qué decisión bueno primero tiene que superar cierto umbral porque o sea quiere decir eso tiene que superarse imposible si se diera el caso creo que aquí hay cero entonces claro podría dar Pero si dan lo mismo con los dos sería tenía planes ganaría otro yo creo ganaría otro Bueno si se diera eso ya tendrías que decir ahí como tema de implementación Y que salga el primero se ve razonable o el último no sé Ahí hay como que da lo mismo Ahí deberías de decidir pero ojo ojo Eso sí que sí que como Fíjate en esto dice si la respuesta supera cierto ugarse se considera su su valor si es que no supera ese tumbral entonces es una zona plana y no hay borde y no no se no suma nada es Y probablemente sería ese caso porque cuando el borde está bien nítido y ellos tienen un gran o sea una respuesta fuerte que supera cierto umbral Claro que es uno y no es el otro como una demostración matemática profe se compara el umbral en el balón en valor absoluto con el umbral O sí sí de hecho mira aquí como como diferencia y cada vez que aquí hacen Por qué el valor absoluto porque finalmente aquí es lo mismo un borde que sea como así como negro y blanco a un borde que sea blanco a negro es como que el borde del mismo es como del mismo tipo es como un borde así digamos y por eso es que lo acumulan como valor absoluto porque es lo mismo que en el en el también en el ángulo del gradiente de hecho pasaste el pase el mismo efecto que se Comenta aquí compará entre el rango menos 180 grados 180 grados es decir el ángulo está en todo el amplio espectro del del de los cientos de los 360 que va desde entre 80 al menos 180 grados pero cuando un ángulo tiene esto de acá o este de acá es como el mismo es como el mismo de ahí dice que entonces se considera el rango menos noventa a noventa y uno considera solamente estos dos cuadrantes y si es que el ángulo salió para acá en realidad le sumo 180 lo acumulo para acá ya eso está para qué Porque en realidad un borde de blanco negro de negro blanco esencialmente del mismo Ya bajo ese supuesto y de hecho en el código fuente que les comento Acá está aquí Le hago un código que se puede ver en se puede ver aquí en este este después ayer al último esto de acá es lo que hace Es que para cada imagen y este es un programa de orientaciones del gradiente cero grado de menos noventa y noventa y lo que va haciendo aquí es que para cada eh Este es el devoro Entonces esta es la imagen de borde y aquí eh aquí se ve un histograma es que va de menos 90 por cada una de estas zonas entonces la imagen Aquí está en zona bueno estos cero porque aquí no hay ningún Pixel de gradiente que supere el umbral en cambio acá en esta zona de acá que vendría a ser esto de acá ahí hay muchos gradientes en dirección en ángulo cero y el del medio y Caballero 180 y los que están ahí en esto de acá son ángulos que van en esta orientación entonces más a un lado y menos al otro lado o sea que están como decía acá en en esta en esta en esta orientación ya sea para un lado para el otro y lo que se hace aquí en el código Fuente es que si es que está menor a 90 grados se le suma 180 grados necesitamos Así que estaba mayor a 90 grados de arresto 180 grados y ahí esta tarde llevarlo al cuadrante estos cuadrante cuadrante único y con eso hay uno va acumulando y pasa esto del efecto de lo mismo que el del valor absoluto y me pregunta qué es que el valor absoluto no se considera y se toma solo el número o o si es que uno quiere considerarlo ahí hay otra idea que era lo que hicieron en este trabajo que él está comentado los videos efectivamente tomar los diez los diez aquí hay cinco y se toma el valor absoluto Pero qué pasa si tomamos los diez los diez posibles diferenciando los valores absolutos es decir está el este borde y este otro tipo de borde con los signos cambiados y hay que tomar el que maximiza solamente ya no tomar el valor solo y otra forma y de hecho funciona mejor levemente mejor son opciones y de hecho se las comento que podrían considerarlas para la tarea uno sí O sea me equivoco Ya entendí la entendí igual en ese caso particular de cuando hay un empate no sé voy a decir el primero aquí al final es el mismo tipo de en diagonal Por así decirlo pero el tema es que sin valor absoluto son distintos porque uno está como Comparado respecto no sea negro y el otro respecto a blanco entonces por eso se da ese empate el que gana primero los números sospecharía que gana otro en los cinco opciones usted dice que no debería pasar eso Entonces estoy haciendo algo raro ahí porque la idea es que sean como y cuando gana uno nos choca con el otro ya porque está ganando eso [Música] fíjate bien porque soy corazón no son cinco cualquiera que se le ocurra igual es como que entre ellos se dividen las posibles opciones [Música] Entonces vamos voy a preguntar entonces en el Foro de curso sé que hacemos una una adicional este jueves o viernes ya que viene como el mini control dice el otro lunes muy pronto podríamos hacer algo adicional esta semana y también bueno y la tarea le voy a avisar por un curso también y y esta tarea uno es un desafío que les va les va a servir ahí para estudiar Porque lo que están viendo ahora en el mini control de estos escritores es lo que espero que puedan usar para buscar imágenes parecidas así ya además en la práctica y ahí y aquí sí tienes que entregar el código python digamos la tarea cierto que hubo una pregunta ahí que alguien hizo en el portalera que que para mí en el control quería entrenar código fuente y que eso no no [Música] Espero que no no entreguen código fuente No o sea si quieren hacer todo programando les puedo prohibir eso ya primero que más fácil pero no puede entregar una un código Fuente La idea es que mostremos las respuestas correctas Y si vamos a automatizar el proceso del cálculo que por lo menos demostremos que sabemos cómo funciona Sí claro y no solamente porque hagan un histograma en python Está bueno ojo porque por ejemplo entiendo quizás normalizado ya y claro y por defecto está normalizado Bien bien también me sirven Así que ver los videos y cuentan de repente me escucha los videos y me doy cuenta las palabras me pasan las palabras claro explicado Entonces [Música] lo digan o Como comentario el video o lo dicen de alguna forma