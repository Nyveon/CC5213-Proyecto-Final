 como es una búsqueda por rango en un ere trick la persona busca por rango recordar quién se define por una boya consulta una buena consulta donde sentiremos un objeto q y queremos saber todos los datos todos los vectores que están a distancias en la consulta son los que bien queremos encontrarlo vamos a partir haciendo el gesto aquí lo que vamos sería en un algoritmo recursivo vamos a ver el mismo algoritmo del recorrido recursivo de un árbol y vamos a ir viendo regias y la región intersecta cuando al abuelo más suelto dice que si la intercepta entramos a ella y vemos sus datos y dice que hay un dato que está laboral consultarlo agregado así que no nos saltamos esas versiones no vamos a comparar cada una sus regiones y si es que alguna no la visita y nos acaba la región completa de ahí y estamos felices porque nos ahorramos mucho tiempo en cambio si es que intersecta tengo que entrar y viviendo en sus sub regiones o en sus datos cuáles están dentro de la bola con suerte bien eventualmente aquí quiere decir que eventualmente uno puede recorrer el árbol completo si es que la consulta es muy grande o si es que todas las regiones 20 ataques de consulta en el plano en los ejemplos dibujado es difícil que eso pase pero en un espacio multinacional es probable que va a ser para saber si que una región interceptó a la buena consulta iniciada una definición que llamaremos el ministro que es el en la distancia mínima entre 15 y una región está la región r y este escudo y por tanto tengo que calcular la distancia mínima entre cuba y la religión durante cuántos unnim vista entre cuba y una región de una distancia en dos puntos y una región y eso es la distancia mínima que corresponde a estar arriba calculamos ahí que está fuera que está adentro sería hacer cómo se implementa eso en mi caso y sería transforme la idea es que ver en cada una de las coordenadas de cv y si es que está dentro de los límites en estas coordenadas sumamos ser pero si es que en ésta coordenada está por sobre él appelbaum calculamos esa diferencia y la sumamos al cuadrado si es que estamos bajo la perdón tenemos que calcular esa diferencia y sumaran cuadro y eso para cada una de las coordenadas y no nadar la distancia escribían a esta distancia dice su piedra pero al impulso al punto más cercano de la región porque es relevante esa distancia porque es la distancia a la cual eventualmente podría existir un dato si éste un mmr podría haber un dando en esta esquina podría no haberlo podría no haberlo porque podría ser que hubiera un dato aquí y otro acá pero no sabemos entonces tenemos que tomar el primer caso quien podría ser conjunto o un mejor caso y tomar la distancia y asume quién es a quién hay un punto y después tenemos que entrar la principal entonces vamos vamos a ver si aquí tenemos entonces una buena consulta y estamos consultando todos los datos que están a una distancia mucho [Música] creo que calcular mi lista con el euro de consulta si es que el índice es mayor que el erre consulta entonces la región está fuera y la descartamos y si es que inditex más peques más pequeño que el radio que le dé la buena consulta entonces existe una intersección y tenemos que entrar a mirar desarrollo aquí tengo un ejemplo entonces como cómo se implementaría ya recordar que un árbol ismo recursivo recorre el árbol en forma predefinida dependiendo de para qué para que lavarla recursión vamos a conocer por ejemplo aquí recorremos hacia la izquierda partimos hacia la izquierda acción entonces es un árbol en profundidad hacia la izquierda y cuando termina de probar toda la izquierda avanza un paso a la derecha y vuelve hacia la izquierda entonces aquí tenemos este árbol de nuestra nación y esta es la consulta y tenemos que consultar vamos a ver una multa en profundidad lo que como simplemente como sería el algoritmo partido por la raíz y vamos a partir de entonces hacia la izquierda y luego volver a 526 es el camino pero vamos pero vamos a ir consultando las regiones si es que intentéis pero no la pole consulta y nos podemos ahorrar algunas operaciones entonces vamos a partir por r 1 y 10º tr1 intersecta o no elabora consulta y perfecta no arrebol cómo se hace eso dice aquí calculan el ministro de cubo con 'the road' y aquí se le quiere igualación por tanto es menor quiere y vamos a entrar lo hicimos a la intersección y ahora vamos a ir sola regrese de ahí y tenemos que calcular el mentís de monterrey 3 cuantos eso y preguntarnos si es cierto será menor en orihuela y aquí vamos a ver qué lr-333 destaca subíndice sería desde aquí hasta aquí y por tanto no es podemos descartar y r3 no nos sirve no nos lo vamos a descartar y nos saltamos y nos ahorramos un par de operaciones y ahora vamos a ir avanzar entre 4 y ahora decimos en méndez de cubo con 4 y con r 4 el míster eso significa que hay que entrar y eso significa que hay que calcular la distancia la distancia del gramos llevarse de cv con sus dos elementos con 611 y calcular la distancia con c y nos da la menor quiere por tanto su retorno y calculamos la distancia del cuco con g y con él así que calculado nos damos cuenta que no estaba afuera de la región autónoma porque y ahora nos toca r5 y r-5 subíndice que hay que entrar y vamos a consultar e ica y ahora vamos a calcular de nuevo dos distancias más y para darnos cuenta qué calculamos que no está fuera y que calcula una distancia y que aguardar y la voz sobre alrededor y calculamos el ministro de buena grados y eso es hasta acá y va a ser mayor que era y por tanto descartamos toda esa región y toda esta rama la ignoramos porque sabemos que no puede haber nada y nadie o nada de relevante el resumen para este resumen notar que no encuentras cuántos cálculos de distancia hicimos uno dos tres cuatro cinco mil y uno dos tres cuatro distancias en total hicimos 9.000 cálculos de distancias si es que no usaran nuestro algoritmo y usábamos en las búsquedas secuencial tenemos que realizar todos los elementos 1 2 3 4 5 10 12 y aquí hicimos el letrismo más silvia fue en footing su boutique o alquiler resolvimos en más radio bueno aquí estamos subiendo a que el tiempo a dimitir sería parecido al de la distancia utilizar la hipnosis entre medio es mucho más lento que uno dos tres cuatro cinco tantos nueve estancia 99 cálculo contra 12 sin éxito entonces puede la búsqueda a visión más cercana como implementamos la búsqueda de vecino más cercano y vamos a decir a cabo la misma búsqueda recursiva pero ahora que pensando en esto aquí en la porque si no más cercanas como una búsqueda por rango donde el rango parte en infinito y se va a ir reduciendo en la medida que obtenemos candidatos y cada candidato de 1ra y ahí vamos a ir cortando las siguientes regiones la media vamos descubriendo candidatos con la adaptación del algoritmo se puede ser entonces lo que vamos a hacer es que íbamos a la misma búsqueda en profundidad y el pero con un rango desconocido infinito y los vamos a ir reduciendo viaje ya esa distancia de corte al candidato le vamos a llamarla plugin vista desde la distancia de corte de los de poder que es la distancia que va a ir mejorando la medida que descubrimos nuevos calidades y complicarnos ha cambiado la cuidad y se va haciendo más pequeña importante mejor va mejorando porque nos permite cortar las ramas de largo como sería entonces este ejemplo es un gramos que tenemos en el mismo árbol y ahora queremos calcular el vecino más cercano de cv cuando está en esta posición cómo se hace esto busque recursiva como quieran y por tanto el top arba partirá hacia la izquierda como volver a preguntar los recuerda torre 56 y entonces él vamos a partir con tener dos y vamos a ir digo calcular el índice como si fuera consulta barranco entonces decíamos bien vista con r1 el menor o igual a 2 radio menor igual el radio pero el radio en este plan el pro lindes pero a esta altura el plugin this vale infinito así que seguro que sí y vamos de etiquetar y luego vamos a decir el cuco en r3 bueno que es el mismo hasta que vamos a llegar al primer dato y ahora vamos a decir el dato y aquí vamos a calcular su distancia y cuál es su distancia y vamos ahora vamos a tener unas priorities a instalar y ahora tenemos candidatos pues vamos a ser el candidato y esa es nuestra prioridad está en nuestra cantidad entonces ahora podemos ir y después decimos siguiente elemento l y él está mejor y nuestro mejor suerte y ahora volvemos y ahora vamos por el recuadro el recuadro tengo que calcular el índice decimos mentir bendis de 4x y r4 el recuadro el índice es aquí así que si no te encuentras lleva a aparecerse se dice y yo un buen cambiado [Música] y se acabó y ahora sí bien y vamos sobre vamos a calcular la distancia y luego ahora vamos a ir sobre el siguiente elemento empieza aquí era 5 racing con su vista 5 es mayor que no está pluralista y ahora este es nuestro provista y por tanto descartamos y nos ahorramos un poco de trabajo y ahora vamos tenemos como candidato candidato así y ahora 2 con alrededor de un índice está aquí por tanto vamos a resolver 6 ie6 de suministros es lo mismo y la matriz que está en el área del área y ahí apareció y vamos a mejorar esta cantidad y luego poder calcular aquí efe jl efe jl están más lejos y que no va a mejorar el candidato de la primaria no podemos saber qué quieres si es mejor que el candidato actual hasta que caracas y salimos de la región y ahora vamos a visitar r7 y r7 suministre y el mayor quien nuestra estas candidatas inclinó descartadas y el aire el resumen cuántos cálculos tuvimos que hacer para calcular el vecino más cercano 1 2 3 4 5 y 15 serán 15 cálculos de distancia no funcionales en este caso y por qué fue tan malo se podrá mejorar de alguna forma este método por qué vamos ver la posición en que pagó uno dice de hecho la primera aquí el error mano de españolismo fue que parte siempre no mira dónde está alguno miranda y sabe que va a ir hacia la izquierda eso es muy malo porque como no tenemos brindis infinito es claro para dónde partir escogiendo para sacarnos con los cambiando el inicio como partimos con a nuestro que el candidato está muy lejos aún cuando nosotros sabíamos viendo la posición que entre 1 y 2 alrededor se veía mucho más prometedor porque tiene un índice menor actualmente nosotros podríamos asumir que en esa posición de aquí hay un candidato cosa podría haber un cambiado en cambio en r1 dice que podría haber un cambiado dijimos que si preferimos alrededor de una persona se puede hacer con una una búsqueda de recursos porque aquí lo tiene que hacer o entonces vamos a cambiar el mismo recursivo por una forma donde vamos a decidir la región a visitar y la vamos a ir decidiendo en función del índice de la región porque son un indicador de dónde va a haber y entonces vamos a hacer una cola de prioridad de la florida la que nos permite ordenar regiones según algún indicador en este organismo de búsqueda fue propuesto por las personas se llama first y la idea es que sí la prioridad va a ir manteniendo todas las regiones que tenemos que visitar vamos a ir ingresando regiones con su distancia como prioridad y las vamos a llenar de menor a mayor ojo con eso por tanto es una colectividad que es uno es el si vamos a regir la sumergió porque no me interesa que nos vaya entregando formas y siente el mínimo de todos los días vayamos pasando y le vamos a ir agregando todas las regiones que conocemos le calculamos brindis y lo agregamos la colectividad y la coliflor y de prioridad nos va a ordenar con el índice y nos va a ir dando el siguiente mínimo a visitar y al visitarlo lo que vamos a hacer es que sacamos la región y miramos que la crítica de las regiones que agregamos a la región a la cual nos vemos el bueno hacia el algoritmo nadie vuelo con un ejemplo y en supongamos que la región aquí aquí está la consulta y vamos a calcular entonces el vecino más cerca ahora usando la prioridad para ordenar las regiones bien entonces quiero que hay que hacer aquí un club que decir tengo que decir entre 1 y 2 como hacemos eso se llama la active lista con la previa que son las páginas que están activas por el visitar y vamos a agregar esto desde su inicio inicio y vamos a agregar r1 y r2 a esta región y él los va a ordenar con su prioridad que siendo igual a la vista y aquí se ve que la región 12 está un poco más cerca que la región y por tanto esto cualquier ordenador región 2 y ahora que lo que decimos que sacamos lo hicimos sacar el siguiente el mínimo de la cola prioridad importante aquí dice la visita de dos y el lado nos vamos a sacar del y que significa visitar errados que vamos a tener siete y eso significa que hay que agregar agregar r6 y recién van a artificiales y resistió reciente y qué significa eso quiere 6 una buena receta en la misma el mismo minis y reciente en la muralla entonces cómo quedaría ahora la artista va a entender con la reciente mano luego variar con la r1 y luego variar conacyt al menos el orden está y vamos a decir visitemos el siguiente vamos a visitar 06 y r se instalen y qué significa eso que contemos 4 datos fj niell y es decir b b el pj ya le vamos a encontrar el candidatos entonces que íbamos a ser cambiado reserve y vamos a tener una plug-in lista y ahí es el círculo verde que es un índice que ya podemos tener una distancia de corte para el active list vayan a 1 y r7 [Música] 17 y digamos como candidato con el candidato caminando ave y ahora entonces decimos tenemos que visitar el siguiente 1 visitar el reino y eso significa que uno entra entra terrestres de rey 4 y 5 tienen que entrar y cuando decimos r 3 y r3 está acá natsumi lista es mayor que ésta se acorte huerta entonces sabemos que no tiene ni siquiera que entrar el active es porque ya irrelevante así que descartamos r4 de recuerdos y es relevante y esto tiene que entrar entonces 22 4 y 5 destacan los cuatro y tenemos el recuerdo reciente gestión y ahora que visita el 4 visita y visitar el recuadro significa que ha entrado maya y no elementos e ig que son datos y eso significa que hay distancias distancia con vistas de de cv a c y d de cubo ayer iba a parecerse vamos a mejorar tu cambiando a mí ahora vas en un candidato serio y eso lo que pasó ahí tenemos nuestro candidato y la provincia este redujo aún más y ahora el siguiente elemento que nos toque aquí estará 737 cuando sale de nosotros ya sabemos cuál es su mente y voy a decir está por ella mayor que el mayor que es nuestro candidato por tanto fin del siguiente a visitar ya es irrelevante por tanto que en adelante no nada más puede ser relevante y ya tenemos nuestro nuestro casino más cercanos o encontrar y ver entonces qué es gráficamente es como aquí en las curvas del índice de los círculos rojos nos abre los círculos azules se van aumentando pero los visitantes creciente y los candidatos que son las estudiantes se van reduciendo utilizar mejorando también cuando estos dos círculos se juntan o se cruzan el algoritmo termina [Música] entonces qué es eso lo que elegimos el requerimiento de espacio dice que la activista en algún momento es algo que puede ser muy grande el árbol entero dentro del activista y ordenar todas las regiones del mínimo máximo dependiendo aquí acá al vecino más cercano así que acaso la memoria vamos a tener muchos elementos ya y esa región entonces va a ser pero va a seguir siendo lo que es número regiones latir en el tamaño de esta vez esa cota y eso es peor que el agua que aún profundización de profundidad siempre va a tirar el 2 porque como va bajando y subiendo siempre va a tener el bloque n en memoria regiones porque eso es un contra pero a favor tiene que este algoritmo es óptimo en el sentido de que no nunca no va a visitar las regiones que las mínimas necesarias para encontrar más cerca para entender el ejemplo e por ejemplo aquí como el ejemplo que aquí visitamos el algoritmo que nosotros visitamos en la región dos primero y el destino más cercano era set porque fuimos a visitar allá eso está mal afectó la resulten ser quieren nuestra mano nosotros teníamos que visitar la región dos forzosamente porque aún cuando el vecino más cercana estaba en esta región 4 de la región 1 aún cuando el vecino más cercana estaba al caer sólo forzosamente íbamos a tener que ir a la región 6 cualquiera porque si estás a un círculo y aquí está más cerca y hay una región de de la región 6 el que está más cerca y el vecino más cercano y por tanto forzosamente si queremos dar garantías del vecino más cercano tendremos que visitar esta región para darnos para ver si es que existe un dato de iu o no así que no lo visitará si fuera un algoritmo mágico que que de inmediato baja por el perú no bajaré uno luego baja ponerle cuatro y dice ese y finaliza quisiera la colina ideal si ocurre eso el algoritmo está en correcto podría hablar contra el vecino más cercano porque porque tiene que visitar esta región verde para asegurarse de que es efectivamente el vecino más cercano si no mira ahí podría haber existido por anterior ha habido un dato y que en realidad no era que sino más cercano por tanto por su segmento y tenían tienen que encajar por aquí y visitar nuestro cuerpo nunca lentos en ese sentido de nuestro algoritmo este óptimo porque como vamos visitando las regiones en la orden ascendente y nosotros visitamos la región 2 pero porque hay que visitarla y no vamos a visitar ninguna región que no teníamos que ir a visitar aún cuando fuéramos del oráculo y estuviera donde está el vecino más cercano o a qué distancia está ahora sí tengo que visitar la nuestra región eso es lo óptimo y mejor aún con este algoritmo aquí nosotros tuvimos un candidato previo que era nuestra primera bajada y bajamos por alrededor de seis días después nostros que tenemos que mejorar esa cantidad si estuviéramos apurados y queremos retornar rápido nosotros podríamos haber detenido el algoritmo lo que se llama un riesgo ya estamos una fiesta y decimos al primer candidato retorna de inmediato ya no no te asegures eso si uno no puede dar garantías de que la respuesta correcto no podría equivocarse pero mucho más rápido porque uno no no lo mejora que resulta ser que en una gran cantidad de veces ese primer candidato en el vecino más cercano y el resto de tiempo que se puso a recorrer en otras regiones era solamente para verificar quién no había ningún otro objeto más cercano aquí mi candidato anterior quien tenía dónde entonces eso no es lo mismo decir listo es una forma muy buena para ir muy rápido aunque es fallar algunas veces y de hecho ahí es donde hay uno y ningún traidor que se llama entre y rápido y entre eficiencia y efectividad entre y muy rápido para responder no siempre responder bien vol 1 puede ajustar esto de ir más rápido o menos rápido [Música] termina cuando aparece el vecino más cercano real porque aquí su hogar se de que efectivamente cómo se resuelve una búsqueda que nn ahora lo que hay que hacer es que nosotros ya hablamos anterior sobre cómo hacer la búsqueda en la búsqueda de los carcinomas se cumpla con la prioridad de los candidatos y con un máximo y por tanto lo que tenemos que hacer entonces vamos a 2 con la de prioridad que porque la especialista es una colorida un medio buscando min dista y los candidatos que van obteniendo los vamos a ir agregando a la cola de habilidad de candidatos que es un máx ordenado por la distancia real la brindis es la distancia a limpiar candidato que es la en la cabeza de la de la col habilidad y candidato del máximo el top de candidatos en nuestro florista así como se resuelve cualquier granel y lo que le estaba diciendo esto es una búsqueda aproximada consiste en realizar una aplicación anticipada de búsqueda donde tenemos al inicio a la primera respuesta eso lo más rápido que podemos hacer y claro vamos a equivocarnos algunas veces qué pasa si es definir un parámetro como un parámetro de aproximación que si lo que no nos visita la primera que visita a unas 10 regional o más y en esas regiones a veces mejora un poco y la cantidad de decir macetero que efectivamente encuentra aumenta se vuelve un poco más lado el resultante uno puede hacer un gráfico un gráfico del tiempo aquí vamos a graficar el tiempo acá y aquí ponemos la precisión decía como las veces que responde el vecino más cercano tiene en cuenta que en el peor de los casos nos vamos a tomar mucho tiempo iba a encontrar 100 por cierto y si es que empezamos a que este parámetro se ha disminuirlo a decir ok no retorne siempre del destino más cercano pero el botón a máximo 10 10 regiones bajen más rápido pero dejan llegar un poco el tiempo va a disminuir la presión también disminuye resulta ser que al inicio la precisión de el tiempo va de que esté muy rápido y la precisión no decrece tanto en este caso como dibuje nos deje aquí el tiempo se va a formar un árbol base donde nos pueden acelerar mucho la búsqueda y la precisión no disminuye tanto la precisión de la correcta y tud del décimo cercano que está que está retornando hasta un punto donde ya empieza a renacer de hecho toca y en un mínimo que es retornar cuando alguno al encontrar esta curva es interesante porque depende de los gaps y qué tanta eficiencia pero por regla general uno puede dependiendo de cómo uno construye el árbol y uno puede ir a un encontrar el 99% de los vecinos más cercanos correctos y preparándose un 1% tiempo por ejemplo si algo se demoraba entonces una hora 1 podría demorarse en el señor y encontrar casi los mismos los mismos o para equivocarse un poco veces pero la ganancia en tiempo demostró entonces aquí es clave hacer un buen análisis de este estilo con eficiencia para finalizar aquí hay algunos algoritmos de esta discusión que hemos hablado con respecto a los mismos de búsqueda que aplica a todos o casi todos los árboles no solamente porque lo son porque es más claro pero ahora bien distintos árboles de búsqueda es el mismo pero aquí algunas variantes quien dice que podemos calcular una no tengo para que partir con la cota con un brindis infinito porque cuando vemos en ella ya podemos calcular una violinista mirando como sabemos que una breve r en cada una de las caras hay un dato entonces si decimos que calculamos la cara más cercana sin mirar siquiera los datos acá nosotros sabremos que entre aquí y acá hay un árbol la cara más cercana al punto más lejano ahí seguro que ya es importante dice que estos criterios de de minimizar el área o minimizar la verdad de lo relaja un poco y algo más inteligente donde vamos ajustando y criteria a veces según un criterio las hojas en la intersección de muestras y también dice evite el split al máximo y si es que iba a ser una versión de repente es mejor es reinsertar elementos que caigan en otras regiones y no hace lo mismo ver flor de ahí otra variante es más dice que sí que hay un dato que podría estar en una zona no verla duplique el tipo aunque los datos regiones esto ya pero no tienes que visitar más regiones y con una región visitamos todas las intersecciones [Música] para finalizar y funciona súper bien en enlaces line de power point que son dos de también funciona bien con 3d y con datos de gps entonces con base datos espaciales funciona bien y la métrica por ejemplo si no tiene los paraderos de transantiago y no tienen las posiciones gps que buscar y estoy para una parte y quiero ver cuál el paradero más cercano l red y funciona muy bien de crear versiones rectangulares conteniendo grupos de paradero y ver cuál significa donde no funciona bien es un espacio múltiple de hasta demasiado por ejemplo de los descriptores del mejor el histograma de dientes o los descriptores de msc ahí funciona mal estar aquí porque porque esto de calcular el mmr tomar el mínimo de toda la dimensión y el máximo de todo la de los datos no quiero una genere eres muy grandes emitir alta dimensión así que todos los eventos interesantes y cuando todo lo general interceptados no hay eficiencia porque la consulta intersectan a todos los datos animación nosotros las regiones al mismo tiempo y no hay cómo despertar regiones de hecho se vuelve más lento quien es que la línea líder es hacer jugar encontrar a ser sin angustia ser aún más por tanto para pocas dimensiones 23 de hecho una variante se llama electric quienes dicen que no se dan cuenta cuando está haciendo los scripts que los explican generando que es que todo es perfecto entonces él dice si es que se están interceptando nahuel split sino que hagan lo que seamos un super nada y no nos separe sino que en realidad quería una región con el doble de capacidad de quite que en conjunto es solamente para no crear regiones que pueden visitar las dos hicieron iniciaron con un espacio de esta dimensión entonces va a degenerar luego el x3 puede generar una gran lista enlazada con todo lo que por lo menos es una secuencia y el menos no nos vamos a hacer peor que lo busca seguridad pero vamos a ver qué funciona mejor en los próximos años